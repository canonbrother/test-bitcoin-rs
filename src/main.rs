use std::error::Error;
use hex::FromHex;

// use bitcoin::{
//   Block, BlockAMK,
//   consensus::deserialize,
// };
pub use dftx_rs::{Block, deserialize};

fn main() -> Result<(), Box<dyn Error>> {
  // failed
  // let blk0 = "010000000000000000000000000000000000000000000000000000000000000000000000cfda8ab18b21c5ff72b0e49b2729dd15d704e111953d3c6b50d3103b9571d703372fa55effff001d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000401000000010000000000000000000000000000000000000000000000000000000000000000ffffffff6b0004ffff001d01044c6146696e616e6369616c2054696d65732032332f4d61722f3230323020546865204665646572616c20526573657276652068617320676f6e652077656c6c20706173742074686520706f696e74206f6620e28098514520696e66696e697479e28099ffffffff090080472fd4e314001976a914ca1baaa66f1866d8e1f42a2a755146d05d4a15e688ac00a07523dfaa0f001976a914d267f9b812c711b7b1d7233e632734fed4d3a32e88ac008041d6902d04001976a9146fb1d2c70d6a629373ac0d7c35a24ffa44e8386e88ac008041d6902d04001976a91437383fade2e0c5294cc9161903434d154116e4ec88ac00c0a317ea710a0017a914fdc25443350c89dfd77a49edf81ca98ef6de37cf8700e0d10bf538050017a9145cfd3b116efa18a4a687f35e036e7e3c4ef06952870040689a9cfa160017a914dd831b15d23801e1126345b2c50fc8afd4b143808700001ebd508f530017a9146a8b2283692a5a3f9fb2ef235496e382bab584538700008f5ea8c7290017a9145c9ec04c37431f27a08d3da78287633a386b208a870000000001000000010000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff0200ca9a3b000000001c6a1a4466547843012152b28329b25a32a0afcc64d68792cbcb16839000407a10f35a00001976a91460b706622bcb621fa99a52a1ae9efca70c67404c88ac0000000001000000010000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff0200ca9a3b000000001c6a1a446654784301e54d32b49539a8b20ce9e4ff3c15c3012996f80c00407a10f35a00001976a914710a95d64b186e5377d37a3fca42959bb01e7d5f88ac0000000001000000010000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff0200ca9a3b000000001c6a1a446654784301e891de58e96aebf73299a4d19b15def1ce6368f900407a10f35a00001976a9142fa9b97e3adb9f3ab9133b50be09680b373aeb7288ac00000000";
  // let blk1 = "000000202ae7bf2ef2fc8d18de7a09cd269925b67a96125f4eadd471947bdcae871a9b2725db9bb0fb092b09806651ea1e8e72b24010c74e6b4070b48b194cb807807fa5ced8b85effff001df3f06d8cac73b4def1166596cbf3be873c3093b80c97052aea71228bdb500cc40100000000000000010000000000000041204c395a64f62b5a7176d69be43ec6045e00415dcabc405c7f58d52d54d8d9296f2899c0f3373d0c89efd1654c0b7370491a3c54e217f9cc559d4e1b29a0d5819501020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff025100ffffffff030034e230040000001976a914710a95d64b186e5377d37a3fca42959bb01e7d5f88ac009435770000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a870000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf90120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk2 = "00000020b0884213175ef8b65b13cc229e525863487856f6bf3d0bb0b2b3c6d5b91f40705fdfe0dbbb4fa4e0d9a5ea1c20ae763510ad18a0629f7947dc92254cde113bb9cfd8b85effff001d8bd8c440dd4c992d144d19781dbb53cd93329769d448d0479f66b9e19359aba90200000000000000020000000000000041209a10f8cd3a747279d28621334d43e61f723b7db1aef11b24f42dceebc3e74de26222ae341d995d77368c8f4858eb90575d763c0d219b91dd68e532d9f16d233401020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff025200ffffffff030034e230040000001976a914710a95d64b186e5377d37a3fca42959bb01e7d5f88ac009435770000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a870000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf90120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk100 = "00000020d323cf2ad67211100d0daafcfa73b9030e4e8ea01d3c4b4e613c4498f62fe100fe2f568fa91959d6ddaba27afeaacc9d40fdbae183ae02e5ef876ecb73d74fde2cd9b85effff001b5ba73494446fe292a770ace10bfdcd583c4cea641e48e3949d6cfc9bdd7d7a956400000000000000120000000000000041207d8b4be95a7f9fdb4c686352cc86e95819aea11cb7a6fe1d6f3b6e794c1e246640925acaa632fb0954a0e282a5ed3e1a60086cf62267652182f0036a174e326201020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff03016400ffffffff030034e230040000001976a914710a95d64b186e5377d37a3fca42959bb01e7d5f88ac009435770000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a870000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf90120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk10000 = "00000020452e03e6c05f0445ca8901ae5a3d426118b691c23baf8a39619d9da9548c7f6efe915e1d73d67834ff6d720e486501f604409c09bcb28206582356d8698189048a72be5ea4036619a6cfe87d4ee3d17745b73657619068ba5bef7436eef12af4ece1517d6e764408102700000000000064000000000000004120c08d1577d7efd0527fc4fe46cbbef4ab629ff1b837d49467612baa818f4e313710ec16889361b7f044eec733ce87345a1c6b5ef5ecae7c637b9155b1cc945ee201020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff0402102700ffffffff030034e230040000001976a914da1dde8bba087ea8f1ad6c7ac2c09b41052511e588ac009435770000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a870000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf90120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk100000 = "00000020b330159d0130671041139ef7d7790f4eef05e0d7ff7b6b9e4d8323d57bf4327531efd955654e980b7ce04b5a21d4a7214e99e8143abf307f96c97ae121ea7f07c2e6f15e5d610a198425d01f3a77c421546d81d673a097bcea43c3d53d91a7f4fd22414c594b96c8a0860100000000008400000000000000411fd3ee420650271f6712900c67deac9ef25120e0f28bb19849229e1b3ba8f032564697653db9d580a59c6691b05ec95ad6fdb92ac7fd1569cc05c0c2d003567b5101020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff0503a0860100ffffffff030034e230040000001976a9141614a73a6ee3271d49160c69f9996a33ce4d403388ac009435770000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a870000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf90120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk250000 = "000000206a6f5a74280069e7c5008f52ec85a88736db7b36e084b6274a825a2ede76c98c9affee8b2c856acc41839effdb019344665f2925195b1f3b3436eacb84962cbb5092475fa8c40e19083f29ac3b584469b6717c08ff4870ecb2f52cb142141d84dac36b964594cb7090d0030000000000cd0100000000000041208a3af535aa076cb0b83eee5f4a7d80090450b50cde644c10a17dc901924d03676d5498dfc4085411d95977e88ea7f705a6c5b727c6afae09b27a4da885094c1201020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff050390d00300ffffffff0300634a8a040000001976a9142a4d995745ae7c38fdad2989015f7df24613545188ac0065cd1d0000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a870000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf90120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk350000 = "000000201b2f81f9ee85d125f8f382e75392609d7b374408ae0bea6c695efc4a61ef177a0f43c564f6b1ae6cf71bad5112d76586d0136e413d2f70b2d2c27c7ee848c850bdc3805fe3e50c19b6cf580c00898e52bedac6d3f39221148f1fa1dc6f63c8c02b840f695682210b30570500000000004a03000000000000412030bec5e0a119a7f1349db90f646ef81699ae7fa0b0cf1c6bc2d1ac9e3f009d195f4ed1b0773ea74ff9ecc39479447a97e2d314e1ad9282a084110abc3537c09001020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff050330570500ffffffff0300634a8a040000001976a9142915261bfdcf3dba57a84638782dfca432ff6d2188ac0065cd1d0000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a870000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf90120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk355000 = "00000020e2b3da3e60e10b4b2bf7dfc0c8bdbc71ac3e2c7f0f86649b8c31a33a915194e215778f46ad8f0930777eff432996b0dc63b0a0c3abaf579a4841d06c4f6be4f7969c835fd1ed11199cca7847005d1d4bd459b2f115bf5130688299bbbe49c39071d7adc117972eedb86a0500000000004303000000000000411fcf4680fff7ced61bc49687f1c9874c4312dd199d9464e3cc6f2baae1b756d09c5555b5fcc70b7d951839f165eb62f3a5446f9d608acbd5b6c93a3afb9bd0122701020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff0503b86a0500ffffffff0300634a8a040000001976a9145fe52eb9d1dd4ea59c3b14964d743ea5ddf32ab588ac0065cd1d0000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a870000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf90120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk356000 = "00000020e1103516e6dcafbac70b32019a6d066de496081b668d35c7ba2d5713ec3a166837b25ab41068263525b6cc8491b84408cd53ee5feba1cbf410e184afb1ab7e79422e845f6bcf131958ed772620a34fd6a62d05d3e89a0162a5ebb10ca2711821772df674d0cb36dda06e0500000000005903000000000000411ff0c2db60a1ee6ca897ddd2d371f3d97660ced6e019069144a49045df3e48260f603c3b82377c9d68bc8ee26acf2a4c60d40f2d64d4913e84faa14ba56b8fe6b301020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff0503a06e0500ffffffff038260498a040000001976a914ea6822c6cc20510288fdefe6146c8c05fa9f6aff88ac7e67ce1d0000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a870000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf90120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk356250 = "00000020f78c4eceadb9b73051c3ad4243365d42e1535b61662fd106c22c54a4227cd76d8b6f1613e193b34cbe229889757d87dcdb37b6b608d39cab8f0e8a47fc2485cf5750845f86760e19212693cdc0ec1ee0daf87308daa3ea17da7e6cb49fc3aea0942a2608166971b69a6f0500000000005403000000000000411fe5c2091e71141fefb48863ef1ccd3d64801948814f2dfc80dc6934f65397561e7195da7da92c30c64ef2cef3c8d308eca3963146958e6f958def77976998953c01020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff05039a6f0500ffffffff03a963498a040000001976a914743228c44defba3beb75e983fbd5cc79761cde1588ac5764ce1d0000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a870000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf90120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk356400 = "00000020ecb9e13acd0b6b67537bb0c271f84b39d19fedce61f41ecd3932ebf10d8afbb8aee251d55134ea6396ec4aeeade1be43537e3ef8c4bef86b4d984cc925676b960766845f7c8a1119624945f9b6794390b9c751c834180170b5fbacd8aba565d4c1cabaf134b7303c30700500000000004003000000000000412057bf96e6a480188ce096f0b1de62c02614dda3ebb8b3fb88282f60aab20bf1d67e8de385571141a12e70faff193ff9761117cfdf86d631773cc4919a6bfce07601020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff050330700500ffffffff03345a498a040000001976a914cc0bf27b1a05186074807bd7d41b2f4c730fd2ac88accc6dce1d0000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a870000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf90120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk356450 = "00000020d5728c8388e1efd5b250e13d4815301b30f88bb268264c32f374f100cfa1b7dcc38f0e14027e9c553e155dabcb421ce54b1bac18d8f33678d4c8ca05f0320c13e26c845fa41a10195d8b3654d9c29b780b215fdc3c5248f8038c73371f78284ed5fb7493eee58c7062700500000000005a030000000000004120ba62b23f371a2b361145aa86ed38f0ee1a8bc0c2a4cefa90296ef3291ea51c99015d272aec2677b92b0074d04975ade4261d60300bb0cfdd61401f0b62dbd75401020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff050362700500ffffffff0300634a8a040000001976a91402631a23987bc025d232a0c26c196ad79deba3be88ac0065cd1d0000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a870000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf90120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk356475 = "0000002005084d669f70f454e54c37092f715ee9571533f0502bed59641d5136822d2c39c110f3ea1a0ea0376391c8d4cde354a1c2307e6c868cc99a744820d5b0da51549e70845fd8251219913f0aede797303d73c1914a97f038809f92b3233dcb5fa2bfe23aa19698e55b7b700500000000005d03000000000000411f30c549eba4b51c115ff89667517407bfb53fa903f0a56fb33df1cd5b38e3ae6160293d95e4be409592f8aaa7689bc5af469f8021cac1a15bb29d98f6b753907201020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff05037b700500ffffffff038260498a040000001976a91403724c5f1473f72ccd51c6068b62371f44763cf288ac7e67ce1d0000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a870000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf90120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk356499 = "00000020c0fe6f1675f499d0e289eee395d84d357d22c0b28c7f5c076c35a6774b194480f22ceac6e4db23fb78f8823a7e0271363ad0e928065c3dc4a8f74561376056da7373845f5eb01b1966464f2599fcbec7b8a42c89813cf4f416c8744cd2bd78146e36a92f846d2cf39370050000000000440300000000000041203483deeec7082ec80826cbeec545f32c5223c37580580e081f383d8f96ee3642071f4bec20166b29ec4fce974bab32e67e7f0b9d9bc07bff54ad88d7ce976f0701020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff050393700500ffffffff038260498a040000001976a9143db7aeb218455b697e94f6ff00c548e72221231d88ac7e67ce1d0000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a870000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf90120000000000000000000000000000000000000000000000000000000000000000000000000";

  // passed
  // let blk356500 = "00000020dd367f1921403417ee769f1db87c7996b619c20020efbe62f318a59673d96c2b3b75f49221de715fd5de5e1495bcdf8f6e9783aaee8d3a72bd06a7e0affc95d6b673845f8db015199d0d76cc663e2c90ed844e637603323ce809f4a4527a3b02fdeb9d01f82d60ca94700500000000002403000000000000411f8aa8c1d4153df432b5507241825ce1e340ef2084a08bb00e588f13f8bb71d6291b53517917c7c42b3ff2b3a0120d30530c4abb14820fcf9704492dbcec5da3f101040000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff050394700500ffffffff0300a7a924030000001976a914de34cbc85b1c7331265c3baa13857956119fcbc888ac0080fd9c760000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a87000000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf9000120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk357000 = "0000002010e9a7346702dfe16d5d7fec400bfd5d3c48252d414dab6d5fc8b2753b54498066b548b0420ebcb45af8391624c303e794be9f56fd2f734a967671660d6cc6bc3cba845fdba52119d4718311fc78aba2546b02b581144ed649e58b39deb600052708f5705d2f2da088720500000000003803000000000000411f300492501d962bb026680a98e209ea291cadbe140ff47c55f64495d07bdbe40f473f8fed7ad3610d6d92be431fcba783506bc4320c99289c64c1e9869ae604ab01040000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff050388720500ffffffff0300a7a924030000001976a9143200733012abdf60429affff9c6a53ed23f6706588ac0080fd9c760000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a87000000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf9000120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk375000 = "00000020b1a6b54f43ee36939331378312e3abdd20d339bba0ea25b383c2a70c3eb392f2610ff6054db1f1e17c7f3f9261589ff1635dc0efc46d9685d4f1b41b34ca82ce4dee8e5fcb130f19dec575c0a2b5e6a4def5216b8ae7858af97ca6b57ca49bedd80921cbac0a2a59d8b80500000000003003000000000000411f1a0f96e3f73ac755c0c8af12844f4b8804c171f803ca18c2bc869d45375e1ebc5b8024308df6fe25b1a454a54a89cc66367b0d2a6841f2603f38bcfed52ce14001040000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff0503d8b80500ffffffff0300a7a924030000001976a9144e14bca0d405febfbf1f4fdf3c55faa7d63ae0dd88ac0080fd9c760000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a87000000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf9000120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk500000 = "000000202160fe56c83519b2814531c611e15386735746fe2281b8ecf312448d8bf3b5bb63917e26abb2bf9e60b73247bbd5ec6792e9b45847d7460da63d00d68053646167c8d65f6385011acd77b76023f923232222e1379e5c968aa98bb7d81067aeaf90ac2a09ed6ab6d020a1070000000000f10700000000000041203eb1136598b0f7a4d4b662846df872da09b638cb9a60a0c6261614683076e89c52d1ab9cf14424a30d06615c3318b3c201a2a0959a843acf18719f323e26252901040000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff050320a10700ffffffff0300a7a924030000001976a914a3079dad999dbb9bc332d48a6c810865467306d788ac0080fd9c760000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a87000000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf9000120000000000000000000000000000000000000000000000000000000000000000000000000";
  // let blk1000000 = "0000002012566eb4b54d5cc0fc5a90c592a98cce994e59386b028b4be221fd0dbfab00a494b26b433a95eab51f5c80f1d89f6d388dd7f8ded3674c3fb3701a127db53cf2c46fea6018130119340fc905540e6ce8ffae3f412edb4fe965e0651c077a3e77f287dd19fcf35a7e40420f00000000001e0000000000000041203fbb25ca6cfd54bd17c5bc138a4d2fafeb5d80b1a85e53f36432fc356774a78a489f66e6bd74ad40d7cbea93ab38411854ed93e7721e101ec772e456a93f3d9e03040000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff050340420f00ffffffff03e4394cfd020000001976a914d330fc9c71b90b236481df436d74e80d6fad9ee688ac00a358bd700000000017a914dd7730517e0e4969b4e43677ff5bee682e53420a87000000000000000000266a24aa21a9edd8b8e324081f85828c97c628c0b5ba17975e44cbf74b20a8e25698710b82c9fb0001200000000000000000000000000000000000000000000000000000000000000000000000000400000001dc0d49c6395086babd9b6c64d6c231f8a288ef4887ac2731d335ecd43dc0f127010000006a473044022004d063bffd819beccd350ba0d2561ab64e423b8f9419a654f0f14c10bd05ea01022029b2459142380c332d9893322839302c9fc3ede2ac227cc84f0337735aa2fd8a0121037d426629da8b9b805c6766ff2623cd35ced76d305eeee3aa4f118b9a22678ccafeffffff020000000000000000076a05446654784100fcc854000000000017a914e50b20f580cd173a95f84d4ddfb5e31c2cee3e128700000000000400000000010157c3a381818a080d598b6006e980be3cafd01d744fd56aba0a5e92d1fc7cc56c01000000171600141bb75e484060de7dbb083dab16708abbb506763dffffffff020000000000000000526a4c4f446654786c0117a914e50b20f580cd173a95f84d4ddfb5e31c2cee3e128702000000004209365c010000000100000092185d000000000017a914e50b20f580cd173a95f84d4ddfb5e31c2cee3e1287003ab654000000000017a914e50b20f580cd173a95f84d4ddfb5e31c2cee3e1287000247304402202a21d8055a563a5cd1e81bbcb3c1adc4c5bcb88b24fab92a4f5924fed374f3d2022046e52fb6b8bd8c0a680f971f4ad671b42c673197592e60fefa9b9fbe27ba2a4301210390c02648ab811c8369fd5eb93f5246926d6af625424d54a68c629928b5292ce700000000";
  // let blk3626080 = "00000020f234d0e27e2fb9d481987cc544c012acec637f92803ab21f3a5e4e467bb3a08715a0b0e6545278611e4bf0b70e4c0e31746dad41e79f10e1e17bfc4e508b15ffceaca065566622185e94c6c86c5fed615d2939828fa3df6383fe84b2ea443e2dca272844018a32aa60543700000000002200000000000000411fe54d5e3839dd0e16ac38c2b83dfb9c4569e637b8fc169e5fc3e3b17b4a2407e60f4580d1c9260e229952d74d6079791c32505335d9e4068651b5ce9dad5035dd01040000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff050360543700ffffffff037940e3c8000000001976a914c1f84102dde5d14f17be61f1e4f3a40dc99928b288ac000000000000000000856a4c8200000000000000004031353234353463353339616239653038656539346563383830663435313439623735306536363264663331626666356435353262353062303336343334376638000000000000000000000000000000002863346534396538643836613236633535333735376238633130393966613430363461353734353737000000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf9000120000000000000000000000000000000000000000000000000000000000000000000000000";

  // bitcoin
  // let blk0_btc = "0100000000000000000000000000000000000000000000000000000000000000000000003ba3edfd7a7b12b27ac72c3e67768f617fc81bc3888a51323a9fb8aa4b1e5e4a29ab5f49ffff001d1dac2b7c0101000000010000000000000000000000000000000000000000000000000000000000000000ffffffff4d04ffff001d0104455468652054696d65732030332f4a616e2f32303039204368616e63656c6c6f72206f6e206272696e6b206f66207365636f6e64206261696c6f757420666f722062616e6b73ffffffff0100f2052a01000000434104678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5fac00000000";
  // let blk1_btc = "010000006fe28c0ab6f1b372c1a6a246ae63f74f931e8365e15a089c68d6190000000000982051fd1e4ba744bbbe680e1fee14677ba1a3c3540bf7b1cdb606e857233e0e61bc6649ffff001d01e362990101000000010000000000000000000000000000000000000000000000000000000000000000ffffffff0704ffff001d0104ffffffff0100f2052a0100000043410496b538e853519c726a2c91e61ec11600ae1390813a627c66fb8be7947be63c52da7589379515d4e0a604f8141781e62294721166bf621e73a82cbf2342c858eeac00000000";
  // let blk100000_btc = "0100000050120119172a610421a6c3011dd330d9df07b63616c2cc1f1cd00200000000006657a9252aacd5c0b2940996ecff952228c3067cc38d4885efb5a4ac4247e9f337221b4d4c86041b0f2b57100401000000010000000000000000000000000000000000000000000000000000000000000000ffffffff08044c86041b020602ffffffff0100f2052a010000004341041b0e8c2567c12536aa13357b79a073dc4444acb83c4ec7a0e2f99dd7457516c5817242da796924ca4e99947d087fedf9ce467cb9f7c6287078f801df276fdf84ac000000000100000001032e38e9c0a84c6046d687d10556dcacc41d275ec55fc00779ac88fdf357a187000000008c493046022100c352d3dd993a981beba4a63ad15c209275ca9470abfcd57da93b58e4eb5dce82022100840792bc1f456062819f15d33ee7055cf7b5ee1af1ebcc6028d9cdb1c3af7748014104f46db5e9d61a9dc27b8d64ad23e7383a4e6ca164593c2527c038c0857eb67ee8e825dca65046b82c9331586c82e0fd1f633f25f87c161bc6f8a630121df2b3d3ffffffff0200e32321000000001976a914c398efa9c392ba6013c5e04ee729755ef7f58b3288ac000fe208010000001976a914948c765a6914d43f2a7ac177da2c2f6b52de3d7c88ac000000000100000001c33ebff2a709f13d9f9a7569ab16a32786af7d7e2de09265e41c61d078294ecf010000008a4730440220032d30df5ee6f57fa46cddb5eb8d0d9fe8de6b342d27942ae90a3231e0ba333e02203deee8060fdc70230a7f5b4ad7d7bc3e628cbe219a886b84269eaeb81e26b4fe014104ae31c31bf91278d99b8377a35bbce5b27d9fff15456839e919453fc7b3f721f0ba403ff96c9deeb680e5fd341c0fc3a7b90da4631ee39560639db462e9cb850fffffffff0240420f00000000001976a914b0dcbf97eabf4404e31d952477ce822dadbe7e1088acc060d211000000001976a9146b1281eec25ab4e1e0793ff4e08ab1abb3409cd988ac0000000001000000010b6072b386d4a773235237f64c1126ac3b240c84b917a3909ba1c43ded5f51f4000000008c493046022100bb1ad26df930a51cce110cf44f7a48c3c561fd977500b1ae5d6b6fd13d0b3f4a022100c5b42951acedff14abba2736fd574bdb465f3e6f8da12e2c5303954aca7f78f3014104a7135bfe824c97ecc01ec7d7e336185c81e2aa2c41ab175407c09484ce9694b44953fcb751206564a9c24dd094d42fdbfdd5aad3e063ce6af4cfaaea4ea14fbbffffffff0140420f00000000001976a91439aa3d569e06a1d7926dc4be1193c99bf2eb9ee088ac00000000";
  // let blk100000_btc_test = "0200000035ab154183570282ce9afc0b494c9fc6a3cfea05aa8c1add2ecc56490000000038ba3d78e4500a5a7570dbe61960398add4410d278b21cd9708e6d9743f374d544fc055227f1001c29c1ea3b0101000000010000000000000000000000000000000000000000000000000000000000000000ffffffff3703a08601000427f1001c046a510100522cfabe6d6d0000000000000000000068692066726f6d20706f6f6c7365727665726aac1eeeed88ffffffff0100f2052a010000001976a914912e2b234f941f30b18afbb4fa46171214bf66c888ac00000000";
  // let mut blk356500_btc = "";

  // ci test
  let blk0ci = "01000000000000000000000000000000000000000000000000000000000000000000000044c4abb102666caa8aeb385cc5a0e751865ee07bb549b92111b6bba7f9f1b6c4c9501e5effff7f20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000901000000010000000000000000000000000000000000000000000000000000000000000000ffffffff6b0004ffff001d01044c6146696e616e6369616c2054696d65732032332f4d61722f3230323020546865204665646572616c20526573657276652068617320676f6e652077656c6c20706173742074686520706f696e74206f6620e28098514520696e66696e697479e28099ffffffff0100f2052a010000001976a9149ab96d8f6df07466f5b497153ba69ea73b7a656188ac0000000001000000010000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff0200e1f505000000001c6a1a4466547843018857c8c3ce618fe7ae5f8ee11ecc8ea421a1d82900ca9a3b000000001976a914b36814fd26190b321aa985809293a41273cfe15e88ac0000000001000000010000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff0200e1f505000000001c6a1a4466547843016688df29563f6e8a6227d09322435237453229d900ca9a3b000000001976a9148080dad765cbfd1c38f95e88592e24e43fb6428288ac0000000001000000010000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff0200e1f505000000001c6a1a4466547843018f765e54f7b309965b6eb6d455de6f04445fe79400ca9a3b000000001976a914c2700426e3b889b602df089a4d53aef05fe6316a88ac0000000001000000010000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff0200e1f505000000001c6a1a446654784301de3fa64045e6ef4227e832a3886dfc4a121b38ab00ca9a3b000000001976a914b48ac7f6ba3b966c4c5c81a985cd51416cf52c4488ac0000000001000000010000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff0200e1f505000000001c6a1a446654784301d3f2ca03f247b0e6b44d62821a8e11912c10d40500ca9a3b000000001976a9140ecd8fe751e20391dfb8a7f9664d5686db540d9d88ac0000000001000000010000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff0200e1f505000000001c6a1a44665478430131fab767bf34cd1e9e856b5d2c5688358666607600ca9a3b000000001976a9149ab96d8f6df07466f5b497153ba69ea73b7a656188ac0000000001000000010000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff0200e1f505000000001c6a1a446654784304da58e8b431e692d602cdc3c91f8df9a175fc970900ca9a3b0000000016001420d230f5ae43bc1a66f1c96f196f95b3be2a84660000000001000000010000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff0200e1f505000000001c6a1a446654784304e0dc4bafbea4d48f538ae526d8143a7159a510ee00ca9a3b000000001600142679c28d803f75e91f41132f4397dd4b76d9049d00000000";

  // let path = format!("./src/blk356500_btc.txt");
  // let s = std::fs::read_to_string(&path)?;
  // for line in s.lines() {
  //   blk356500_btc = line;
  // }
  // s.lines().for_each(|line| println!("line: {:?}", line));


  let hex = test_hex_unwrap!(&blk0ci);
  // let encoded = blk100000_btc.to_string();

  // let decoded = hex::decode(&encoded)?;
  // let decoded: Vec<u8> = Vec::from_hex(&blk100000_btc_test)?;

  // let block = deserialize::<Block>(&hex)?;
  let block: Block = deserialize(&hex)?;
  println!("block: {:?}", block);

  // let hex_amk = test_hex_unwrap!(&blk356499);
  // let block_amk: Block = deserialize(&hex_amk)?;
  // println!("block_amk: {:?}", block_amk);

  Ok(())
}

#[macro_export]
macro_rules! test_hex_unwrap (($hex:expr) => (<Vec<u8> as $crate::FromHex>::from_hex($hex).unwrap()));